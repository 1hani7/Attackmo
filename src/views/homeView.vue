<template>
    <div class="screen">
      <div class="video">
          <div class="div"></div>
        <div class="iframe">
            <img class="rectangle" src="../images/Rectangle420.png" />
        </div>
      </div>
      <div class="controler">
        <div class="detail">
          <RouterLink to="/MovieTitle"><div class="more">상세보기</div></RouterLink>
          <img class="chevron-right" src="../images/chevron_right.svg" />
        </div>

        <img @click="playToggle()" v-if="isPlaying" 
        class="img" style="cursor:pointer" src="../images/play_circle.svg" />

        <img @click="playToggle()" v-if="!isPlaying" 
        class="img" style="cursor:pointer" src="../images/pause_circle.svg" />

        <img @click="soundToggle()" v-if="isSound" 
        class="img" style="cursor:pointer" src="../images/sound.svg" />

        <img @click="soundToggle()" v-if="!isSound" 
        class="img" style="cursor:pointer" src="../images/volume_off.svg" />
        
      </div>
    </div>


    <div class="div-wrapper">
      <div class="top">
        <div class="frame">
          <div class="title">인기 TOP 10</div>
          <div class="div" id="top10Plus"><router-link to="/MovieMain">+</router-link></div>
        </div>
        <div class="posters">
          <RouterLink to="/MovieTitle" class="link">
            <img class="rectangle" src="../images/Rectangle695.png" />
          </RouterLink>
          <img class="rectangle" src="../images/Rectangle696.png" />
          <img class="rectangle" src="../images/Rectangle697.png" />
          <img class="rectangle" src="../images/Rectangle698.png" />
        </div>
      </div>
      <div class="top">
        <div class="frame">
          <div class="title">상영중인 영화</div>
          <div class="div"><router-link to="/Mnow">+</router-link></div>
        </div>
        <div class="posters">
          <img class="rectangle" src="../images/Rectangle618.png" />
          <img class="rectangle" src="../images/Rectangle642.png" />
          <img class="rectangle" src="../images/Rectangle643.png" />
          <img class="rectangle" src="../images/Rectangle653.png" />
        </div>
      </div>
      <div v-if="isLogin" class="top">
        <div class="frame">
          <div class="title">당신의 취향은?</div>
          <RouterLink to="/RecHistory"><div class="div">+</div></RouterLink>
        </div>
        <div class="posters">
          <img class="rectangle" src="../images/Rectangle698.png" />
          <img class="rectangle" src="../images/Rectangle629.png" />
          <img class="rectangle" src="../images/Rectangle613.png" />
          <img class="rectangle" src="../images/Rectangle614.png" />
        </div>
      </div>
    </div>
</template>

<script>
import {inject, ref} from 'vue';
export default{
    name:'homeView',
    setup(){
      const isLogin = inject('isLogin');
      const isPlaying = ref(false);
      const isSound = ref(false);

      const playToggle = () => isPlaying.value = !isPlaying.value;
      const soundToggle = () => isSound.value = !isSound.value;

      return {isLogin, isPlaying, isSound,
              playToggle, soundToggle}
    }
}
</script>

<style scoped>
@import url(./homeView.css);
</style>